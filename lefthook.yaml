pre-commit:
  piped: true
  jobs:
    - name: install dependencies
      run: pnpm install

    - name: check types
      run: pnpm tsc

    - name: biome check
      run: pnpm biome check --write {staged_files} && git update-index --again

    - name: check diff
      run: git diff --exit-code pnpm-lock.yaml {staged_files}
